<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MfgCalc • Hydraulic Cylinder Calculator</title>
<meta name="description" content="Hydraulic cylinder calculator by MfgCalc. Compute extend/retract force, speed, cycle time, and hydraulic horsepower.">
<style>
  :root{
    --blue:#0A3D91;
    --orange:#FF6B00;
    --steel:#4A4A4A;
    --light:#E5E5E5;
    --bg:#f7f9fc;
    --radius:16px;
  }
  html,body{margin:0;padding:0;background:var(--bg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;color:#111}
  .wrap{max-width:900px;margin:32px auto;padding:20px}
  .brand{display:flex;align-items:center;gap:12px;margin-bottom:14px}
  .mark{width:34px;height:34px;border-radius:8px;background:var(--blue);display:grid;place-items:center;color:#fff;font-weight:800}
  .title{font-weight:800;color:var(--blue);font-size:clamp(20px,3.2vw,28px);letter-spacing:.2px}
  .tag{color:var(--steel);font-size:13px;margin:2px 0 18px}
  .card{background:#fff;border:1px solid var(--light);border-radius:var(--radius);padding:20px;box-shadow:0 2px 14px rgba(0,0,0,.05)}
  h1{margin:0 0 8px;font-size:clamp(22px,3.4vw,30px);color:#111}
  .sub{color:#444;margin-bottom:16px}
  .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
  label{display:block;font-size:13px;margin-bottom:6px;color:var(--blue);font-weight:700}
  input{width:100%;padding:12px;border:1px solid #d7d7d7;border-radius:12px;font-size:15px}
  .actions{margin-top:16px;display:flex;gap:10px;flex-wrap:wrap}
  button{background:var(--blue);color:#fff;border:none;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer}
  button.secondary{background:#e9eef7;color:#1a2a54}
  .results{margin-top:18px;padding:14px;background:#fff;border:1px dashed var(--light);border-radius:12px}
  .row{display:flex;justify-content:space-between;gap:10px;margin:6px 0}
  .muted{font-size:12px;color:#666;margin-top:10px}
  footer{margin-top:26px;color:#666;font-size:12px;text-align:center}
  @media (max-width:640px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="wrap">
    <div class="brand">
      <div class="mark">MC</div>
      <div>
        <div class="title">MfgCalc</div>
        <div class="tag">A calculated approach to manufacturing.</div>
      </div>
    </div>

    <div class="card">
      <h1>Hydraulic Cylinder Calculator</h1>
      <div class="sub">Enter cylinder and system parameters to compute extend/retract force, speeds, cycle times, and hydraulic horsepower.</div>

      <div class="grid">
        <div>
          <label for="bore">Bore Diameter (in)</label>
          <input id="bore" type="number" step="0.001" placeholder="e.g., 3.00">
        </div>
        <div>
          <label for="rod">Rod Diameter (in)</label>
          <input id="rod" type="number" step="0.001" placeholder="e.g., 1.50">
        </div>
        <div>
          <label for="stroke">Stroke Length (in)</label>
          <input id="stroke" type="number" step="0.01" placeholder="e.g., 24">
        </div>
        <div>
          <label for="psi">Pressure (PSI)</label>
          <input id="psi" type="number" step="1" placeholder="e.g., 2000">
        </div>
        <div>
          <label for="gpm">Flow (GPM)</label>
          <input id="gpm" type="number" step="0.01" placeholder="e.g., 10">
        </div>
        <div>
          <label for="eff">System Efficiency (0–1)</label>
          <input id="eff" type="number" step="0.01" value="0.90">
        </div>
      </div>

      <div class="actions">
        <button onclick="mfgcalc_h_calc()">Calculate</button>
        <button class="secondary" onclick="mfgcalc_h_reset()">Reset</button>
        <button class="secondary" onclick="mfgcalc_h_download()">Download CSV</button>
      </div>

      <div id="out" class="results" style="display:none"></div>
      <div class="muted">Formulas: Force = PSI × Area. Retract uses Area − RodArea. Speed(in/s) = GPM×231 / Area. HP ≈ (PSI×GPM)/(1714×eff).</div>
    </div>

    <footer>© 2025 MfgCalc • Hydraulic Calculator • Brand colors: #0A3D91 / #FF6B00 • v1.0</footer>
  </div>

<script>
  function round(n){return Math.round(n*100)/100}
  function area(d){return Math.PI*Math.pow(d/2,2)}
  function mfgcalc_h_calc(){
    const bore=+document.getElementById('bore').value||0;
    const rod=+document.getElementById('rod').value||0;
    const stroke=+document.getElementById('stroke').value||0;
    const psi=+document.getElementById('psi').value||0;
    const gpm=+document.getElementById('gpm').value||0;
    const eff=+document.getElementById('eff').value||1;

    if(!bore||!psi){alert('Please enter at least Bore and PSI.');return;}
    if(rod>=bore){alert('Rod diameter must be less than bore diameter.');return;}

    const A = area(bore);
    const Ar = rod? area(rod) : 0;
    const Fext = psi*A;
    const Fret = psi*(A - Ar);

    const speedExt = gpm? (gpm*231)/A : 0; // in/sec
    const speedRet = gpm? (gpm*231)/(A - Ar) : 0;
    const tExt = stroke && speedExt? stroke/speedExt : 0;
    const tRet = stroke && speedRet? stroke/speedRet : 0;
    const hp = (psi*gpm)/(1714*(eff||1));

    const html = `
      <div class="row"><span>Extend Force</span><strong>${round(Fext).toLocaleString()} lbf</strong></div>
      <div class="row"><span>Retract Force</span><strong>${round(Fret).toLocaleString()} lbf</strong></div>
      <div class="row"><span>Extend Speed</span><strong>${round(speedExt)} in/s</strong></div>
      <div class="row"><span>Retract Speed</span><strong>${round(speedRet)} in/s</strong></div>
      <div class="row"><span>Extend Time</span><strong>${round(tExt)} s</strong></div>
      <div class="row"><span>Retract Time</span><strong>${round(tRet)} s</strong></div>
      <div class="row"><span>Hydraulic HP (approx.)</span><strong>${round(hp)}</strong></div>
    `;
    const out = document.getElementById('out');
    out.innerHTML = html;
    out.style.display='block';
    window._mfgcalc_last = {bore,rod,stroke,psi,gpm,eff,Fext,Fret,speedExt,speedRet,tExt,tRet,hp};
  }
  function mfgcalc_h_reset(){
    ['bore','rod','stroke','psi','gpm'].forEach(id=>document.getElementById(id).value='');
    document.getElementById('eff').value='0.90';
    document.getElementById('out').style.display='none';
  }
  function mfgcalc_h_download(){
    if(!window._mfgcalc_last){alert('Calculate first.');return;}
    const d = window._mfgcalc_last;
    const rows = [
      ['Field','Value','Units'],
      ['Bore',d.bore,'in'],
      ['Rod',d.rod,'in'],
      ['Stroke',d.stroke,'in'],
      ['Pressure',d.psi,'psi'],
      ['Flow',d.gpm,'gpm'],
      ['Efficiency',d.eff,''],
      ['Extend Force',d.Fext,'lbf'],
      ['Retract Force',d.Fret,'lbf'],
      ['Extend Speed',d.speedExt,'in/s'],
      ['Retract Speed',d.speedRet,'in/s'],
      ['Extend Time',d.tExt,'s'],
      ['Retract Time',d.tRet,'s'],
      ['Hydraulic HP',d.hp,'hp']
    ];
    const csv = rows.map(r=>r.map(x=>String(x)).join(',')).join('\n');
    const blob = new Blob([csv],{type:'text/csv'});
    const a = document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='mfgcalc_hydraulic_results.csv'; a.click();
  }
</script>
</body>
</html>
